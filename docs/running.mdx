# Running QA Agent

This guide covers different ways to run QA Agent, from basic usage to advanced scenarios.

## Basic Usage

Run QA Agent on your project with default settings:

```bash
qa-agent --repo-path /path/to/your/project
```

This will:
1. Identify functions with low or no test coverage
2. Generate tests for these functions
3. Validate the tests
4. Save tests to the `./generated_tests` directory

## Parallel Processing

Speed up test generation with parallel processing:

```bash
qa-agent --repo-path /path/to/your/project --parallel --max-workers 4
```

This runs multiple test generation tasks simultaneously, significantly reducing the total time for large codebases.

### When to Use Parallel Processing

- For large codebases with many functions
- When you have multiple CPU cores available
- When generating tests for the entire codebase
- When your machine has sufficient RAM (4GB+)

## Incremental Testing

For faster runs on active development projects, use incremental testing to focus only on recently changed files:

```bash
qa-agent --repo-path /path/to/your/project --incremental --changed-since 7
```

This only generates tests for files changed in the last 7 days (according to Git history).

### Requirements

Incremental testing requires:
- Your project must be a Git repository
- The `gitpython` package must be installed (`pip install gitpython`)

## Using Different AI Providers

QA Agent supports multiple AI providers:

```bash
# Using Anthropic (Claude)
qa-agent --repo-path /path/to/your/project --model-provider anthropic

# Using GitHub Copilot
qa-agent --repo-path /path/to/your/project --model-provider github-copilot
```

Make sure to set the appropriate API key for your chosen provider.

## Customising Output Location

Specify where to save generated tests:

```bash
qa-agent --repo-path /path/to/your/project --output ./my_tests
```

## IP Protection

If your codebase contains sensitive intellectual property, enable IP protection:

```bash
qa-agent --repo-path /path/to/your/project --ip-protection
```

This redacts sensitive code patterns before sending to external AI providers. For more control, use a rules file:

```bash
qa-agent --repo-path /path/to/your/project --ip-protection --ip-rules-path ./ip_rules.json
```

## Enhancing Test Generation with Sourcegraph

For better context in test generation:

```bash
qa-agent --repo-path /path/to/your/project --enable-sourcegraph --sourcegraph-token your-token
```

This uses Sourcegraph to find similar code examples across public repositories.

## Running in CI/CD Pipelines

For continuous integration:

```bash
# Example GitHub Actions step
- name: Run QA Agent
  run: |
    pip install qa-agent
    qa-agent --repo-path . --output ./generated_tests --target-coverage 80
  env:
    OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
```

## Monitoring Progress

For better visibility of QA Agent's progress:

```bash
qa-agent --repo-path /path/to/your/project --verbose
```

This shows detailed logs of the analysis, generation, and validation processes.